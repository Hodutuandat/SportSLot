{% extends 'base.html' %}
{% block title %}Hồ sơ cá nhân | SportSlot{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/customer/profile.css') }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
{% endblock %}

{% block content %}
<div class="profile-container">
    <!-- Sidebar Navigation -->
    <div class="profile-sidebar">
        <div class="profile-nav">
            <div class="profile-nav-item active" data-tab="account">
                <span>Tài khoản</span>
            </div>
            <div class="profile-nav-item" data-tab="booking-history">
                <span>Lịch sử đặt sân</span>
            </div>
            <div class="profile-nav-item" data-tab="transaction-history">
                <span>Lịch sử giao dịch</span>
            </div>
            <div class="profile-nav-item" data-tab="voucher">
                <span>Voucher</span>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="profile-main">
        <!-- Tab: Tài khoản -->
        <div class="profile-tab-content active" id="account">
            <div class="profile-section">
                <div class="profile-section-header">
                    <h2 class="profile-section-title">Tổng quan</h2>
                    <button class="member-type-btn">
                        Loại thành viên
                    </button>
                </div>
                
                <div class="profile-form-container">
                    <div class="profile-form-row">
                        <label class="profile-label">Tên:</label>
                        <div class="profile-input-container">
                            <span class="profile-value">Nguyễn Văn An</span>
                            <div class="profile-dots"></div>
                        </div>
                    </div>
                    <div class="profile-form-row">
                        <label class="profile-label">Email:</label>
                        <div class="profile-input-container">
                            <span class="profile-value">nguyenvanan@gmail.com</span>
                            <div class="profile-dots"></div>
                        </div>
                    </div>
                    <div class="profile-form-row">
                        <label class="profile-label">Số điện thoại:</label>
                        <div class="profile-input-container">
                            <span class="profile-value">0123456789</span>
                            <div class="profile-dots"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Điểm tích lũy Section -->
            <div class="profile-section">
                <div class="profile-section-header">
                    <h2 class="profile-section-title">Điểm tích lũy</h2>
                </div>
                <div class="points-table-container">
                    <table class="points-table">
                        <thead>
                            <tr>
                                <th>Ngày / tháng / năm</th>
                                <th>Tổng Điểm</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>15/12/2024 - Đặt sân bóng đá (+50 điểm)</td>
                                <td>1,250</td>
                            </tr>
                            <tr>
                                <td>10/12/2024 - Đặt sân tennis (+30 điểm)</td>
                                <td>1,200</td>
                            </tr>
                            <tr>
                                <td>05/12/2024 - Đặt sân cầu lông (+20 điểm)</td>
                                <td>1,170</td>
                            </tr>
                            <tr>
                                <td>01/12/2024 - Đăng ký thành viên (+100 điểm)</td>
                                <td>1,150</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Tab: Lịch sử đặt sân -->
        <div class="profile-tab-content" id="booking-history">
            <div class="profile-section">
                <div class="profile-section-header">
                    <h2 class="profile-section-title">Lịch sử đặt sân</h2>
                </div>
                
                <!-- Simple Filter -->
                <div class="simple-filters">
                    <div class="filter-row">
                        <div class="filter-item">
                            <label>Mã đơn:</label>
                            <input type="text" class="filter-input" placeholder="Nhập mã đơn">
                        </div>
                        <div class="filter-item">
                            <label>Từ ngày:</label>
                            <input type="date" class="filter-input">
                        </div>
                        <div class="filter-item">
                            <label>Đến ngày:</label>
                            <input type="date" class="filter-input">
                        </div>
                        <button class="filter-btn">
                            <i class="fas fa-filter"></i>
                            Lọc
                        </button>
                    </div>
                </div>

                <!-- Booking Table -->
                <div class="simple-table-container">
                    <table class="simple-table">
                        <thead>
                            <tr>
                                <th>Thời gian</th>
                                <th>Mã Đơn</th>
                                <th>Sân</th>
                                <th>Tổng tiền</th>
                                <th>Trạng thái</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>20/12/2024 16:00</td>
                                <td>#BK001</td>
                                <td>Sân Bóng Đá Premier</td>
                                <td>400.000 VNĐ</td>
                                <td><span class="status-badge upcoming">Sắp tới</span></td>
                            </tr>
                            <tr>
                                <td>22/12/2024 09:00</td>
                                <td>#BK002</td>
                                <td>Sân Tennis Elite</td>
                                <td>300.000 VNĐ</td>
                                <td><span class="status-badge upcoming">Sắp tới</span></td>
                            </tr>
                            <tr>
                                <td>15/12/2024 19:00</td>
                                <td>#BK003</td>
                                <td>Sân Cầu Lông Victory</td>
                                <td>240.000 VNĐ</td>
                                <td><span class="status-badge completed">Hoàn thành</span></td>
                            </tr>
                            <tr>
                                <td>10/12/2024 20:00</td>
                                <td>#BK004</td>
                                <td>Sân Bóng Rổ Champion</td>
                                <td>360.000 VNĐ</td>
                                <td><span class="status-badge completed">Hoàn thành</span></td>
                            </tr>
                            <tr>
                                <td>05/12/2024 18:00</td>
                                <td>#BK005</td>
                                <td>Sân Bóng Đá Star</td>
                                <td>320.000 VNĐ</td>
                                <td><span class="status-badge cancelled">Đã hủy</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Tab: Lịch sử giao dịch -->
        <div class="profile-tab-content" id="transaction-history">
            <div class="profile-section">
                <div class="profile-section-header">
                    <h2 class="profile-section-title">Lịch sử giao dịch</h2>
                </div>
                
                <!-- Simple Filter (identical to booking history) -->
                <div class="simple-filters">
                    <div class="filter-row">
                        <div class="filter-item">
                            <label>Mã đơn:</label>
                            <input type="text" class="filter-input" placeholder="Nhập mã đơn">
                        </div>
                        <div class="filter-item">
                            <label>Từ ngày:</label>
                            <input type="date" class="filter-input">
                        </div>
                        <div class="filter-item">
                            <label>Đến ngày:</label>
                            <input type="date" class="filter-input">
                        </div>
                        <button class="filter-btn">
                            <i class="fas fa-filter"></i>
                            Lọc
                        </button>
                    </div>
                </div>

                <!-- Transaction Table -->
                <div class="simple-table-container">
                    <table class="simple-table">
                        <thead>
                            <tr>
                                <th>Thời gian</th>
                                <th>Mã Đơn</th>
                                <th>Phương thức</th>
                                <th>Tổng tiền</th>
                                <th>Trạng thái</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>15/12/2024 14:30</td>
                                <td>#TXN001</td>
                                <td>MoMo</td>
                                <td>200.000 VNĐ</td>
                                <td><span class="status-badge success">Thành công</span></td>
                            </tr>
                            <tr>
                                <td>10/12/2024 09:15</td>
                                <td>#TXN002</td>
                                <td>Banking</td>
                                <td>150.000 VNĐ</td>
                                <td><span class="status-badge success">Thành công</span></td>
                            </tr>
                            <tr>
                                <td>08/12/2024 16:45</td>
                                <td>#TXN003</td>
                                <td>MoMo</td>
                                <td>120.000 VNĐ</td>
                                <td><span class="status-badge pending">Đang xử lý</span></td>
                            </tr>
                            <tr>
                                <td>05/12/2024 11:20</td>
                                <td>#TXN004</td>
                                <td>Banking</td>
                                <td>180.000 VNĐ</td>
                                <td><span class="status-badge failed">Thất bại</span></td>
                            </tr>
                            <tr>
                                <td>01/12/2024 19:20</td>
                                <td>#TXN005</td>
                                <td>MoMo</td>
                                <td>100.000 VNĐ</td>
                                <td><span class="status-badge success">Thành công</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Tab: Voucher -->
        <div class="profile-tab-content" id="voucher">
            <div class="profile-section">
                <div class="profile-section-header">
                    <h2 class="profile-section-title">Voucher của bạn</h2>
                </div>
                
                <div class="voucher-grid">
                    <!-- Voucher Card 1 -->
                    <div class="voucher-card active">
                        <div class="voucher-header">
                            <h3>Giảm giá 20% đặt sân</h3>
                            <div class="voucher-icon">
                                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Sân cầu lông">
                            </div>
                        </div>
                        <div class="voucher-discount">20% OFF</div>
                        <div class="voucher-details">
                            <div class="voucher-info">
                                <span>Mã: SPORT20</span>
                                <span>HSD: 31/12/2025</span>
                            </div>
                        </div>
                        <div class="voucher-description">
                            Áp dụng cho đơn hàng trên 200.000 VNĐ. Sử dụng 1 lần.
                        </div>
                        <button class="voucher-btn apply">
                            <i class="fas fa-hand-point-up"></i>
                            Áp dụng
                        </button>
                    </div>

                    <!-- Voucher Card 2 -->
                    <div class="voucher-card expired">
                        <div class="voucher-header">
                            <h3>Miễn phí 1 giờ chơi</h3>
                            <div class="voucher-icon">
                                <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Sân Tennis">
                            </div>
                        </div>
                        <div class="voucher-discount">MIỄN PHÍ</div>
                        <div class="voucher-details">
                            <div class="voucher-info">
                                <span>Mã: FREEHOUR</span>
                                <span>HSD: 30/06/2024</span>
                            </div>
                        </div>
                        <div class="voucher-description">
                            Áp dụng cho sân bóng đá vào các ngày trong tuần.
                        </div>
                        <button class="voucher-btn expired" disabled>
                            <i class="fas fa-ban"></i>
                            Đã hết hạn
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/customer/profile.js') }}"></script>
{% endblock %} 