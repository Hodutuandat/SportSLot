{% extends 'base.html' %}
{% block title %}Dashboard | SportSlot Owner{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/owner/dashboard.css') }}">
{% endblock %}

{% block content %}
<div class="dashboard-container">
    <!-- Hero Section -->
    <section class="dashboard-hero">
        <div class="hero-content">
            <h1>Ch√†o m·ª´ng tr·ªü l·∫°i, {{ user.username }}!</h1>
            <p>Qu·∫£n l√Ω s√¢n b√≥ng v√† theo d√µi doanh thu c·ªßa b·∫°n m·ªôt c√°ch d·ªÖ d√†ng</p>
        </div>
    </section>

    <!-- Stats Cards -->
    <section class="stats-section">
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-icon">üèüÔ∏è</div>
                <div class="stat-content">
                    <h3>{{ total_fields }}</h3>
                    <p>T·ªïng s·ªë s√¢n</p>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">üìÖ</div>
                <div class="stat-content">
                    <h3>{{ total_bookings }}</h3>
                    <p>L∆∞·ª£t ƒë·∫∑t s√¢n</p>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">üí∞</div>
                <div class="stat-content">
                    <h3>{{ "{:,.0f}".format(total_revenue) }}ƒë</h3>
                    <p>Doanh thu th√°ng</p>
                </div>
            </div>
            
            <div class="stat-card">
                <div class="stat-icon">‚è≥</div>
                <div class="stat-content">
                    <h3>{{ pending_bookings }}</h3>
                    <p>Ch·ªù duy·ªát</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Quick Actions -->
    <section class="actions-section">
        <h2>Thao t√°c nhanh</h2>
        <div class="actions-grid">
            <a href="{{ url_for('owner.add_field') }}" class="action-card">
                <div class="action-icon">‚ûï</div>
                <div class="action-content">
                    <h3>Th√™m s√¢n m·ªõi</h3>
                    <p>T·∫°o s√¢n th·ªÉ thao m·ªõi</p>
                </div>
            </a>
            
            <a href="{{ url_for('owner.booking_schedule') }}?status=pending" class="action-card">
                <div class="action-icon">‚úÖ</div>
                <div class="action-content">
                    <h3>Duy·ªát ƒë·∫∑t s√¢n</h3>
                    <p>{{ pending_bookings }} booking ch·ªù duy·ªát</p>
                </div>
            </a>
            
            <a href="{{ url_for('owner.transaction_history') }}" class="action-card">
                <div class="action-icon">üìä</div>
                <div class="action-content">
                    <h3>Xem b√°o c√°o</h3>
                    <p>Th·ªëng k√™ chi ti·∫øt</p>
                </div>
            </a>
            
            <a href="{{ url_for('owner.notifications') }}" class="action-card">
                <div class="action-icon">üîî</div>
                <div class="action-content">
                    <h3>Th√¥ng b√°o</h3>
                    <p>Tin nh·∫Øn m·ªõi</p>
                </div>
            </a>
        </div>
    </section>

    <!-- Recent Activities -->
    <section class="activities-section">
        <h2>Ho·∫°t ƒë·ªông g·∫ßn ƒë√¢y</h2>
        <div class="activities-container">
            {% for booking in recent_bookings %}
            <div class="activity-item">
                <div class="activity-icon">
                    {% if booking.status == 'confirmed' %}‚úÖ
                    {% elif booking.status == 'pending' %}‚è≥
                    {% elif booking.status == 'cancelled' %}‚ùå
                    {% else %}üìÖ{% endif %}
                </div>
                <div class="activity-content">
                    <h4>{{ booking.customer_name }}</h4>
                    <p>{{ booking.field_name }} - {{ booking.date }} {{ booking.time }}</p>
                    <span class="activity-time">{{ booking.booking_date }}</span>
                </div>
                <div class="activity-amount">
                    <span class="amount">{{ "{:,.0f}".format(booking.total_price) }}ƒë</span>
                    <span class="status {{ booking.status }}">
                        {% if booking.status == 'confirmed' %}ƒê√£ duy·ªát
                        {% elif booking.status == 'pending' %}Ch·ªù duy·ªát
                        {% elif booking.status == 'cancelled' %}ƒê√£ h·ªßy
                        {% else %}Ho√†n th√†nh{% endif %}
                    </span>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="view-all-container">
            <a href="{{ url_for('owner.booking_schedule') }}" class="view-all-btn">Xem t·∫•t c·∫£ ho·∫°t ƒë·ªông</a>
        </div>
    </section>
</div>

{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/owner/dashboard.js') }}"></script>
{% endblock %} 